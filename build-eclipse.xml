<?xml version="1.0"?>
<!-- Copyright (c) 2007-2014 Amazon.com, Inc.  All rights reserved. -->

<project name="IonJava-eclipse" basedir="." default="eclipse-build"
         xmlns:ht="happytrails">

  <import file="${happytrails.root}/happytrails.xml"/>
  <import file="build-common.xml" />

  <!-- Where does Eclipse build our test code? -->
  <property name="eclipse.classes.tst" value="${basedir}/.eclipseout"/>

  <target name="eclipse-build" depends="build.properties"
          description="Called from Eclipse to perform custom build logic">
    <mkdir dir="${eclipse.classes.tst}"/>
    <propertyfile file="${eclipse.classes.tst}/system.properties">
      <entry key="${sys.prop.iontests.iontestdata}"
             value="${dir.test.data}" />
      <entry key="${sys.prop.iontests.bulk}"
             value="${dir.test.data.bulk}" />
    </propertyfile>
    <copy-jar-info classes-dir="${eclipse.classes.tst}"/>
  </target>

</project>
